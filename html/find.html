<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta charset="utf-8">
    <meta name="viewport"
          content="maximum-scale=1.0, minimum-scale=1.0, user-scalable=0, initial-scale=1.0, width=device-width"/>
    <meta name="format-detection" content="telephone=no, email=no, date=no, address=no">
    <title>榜单</title>
    <link rel="stylesheet" type="text/css" href="../css/api.css"/>
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" type="text/css" href="../css/aui.css"/>
</head>
<body>
<div id="app" v-cloak>
    <div class="aui-content aui-margin-b-15">
        <ul class="aui-list aui-media-list">
            <li class="aui-list-item">
                <div class="aui-media-list-item-inner">
                    <div class="aui-list-item-media" @click="openDetail('熊猫直播')">
                        <img src="../image/xm.png">
                    </div>
                    <div class="aui-list-item-inner">
                        <div class="aui-list-item-text">
                            <div class="aui-list-item-title" style="margin-top: -11px;">熊猫直播</div>
                            <div class="aui-list-item-right" style="margin-top: 21px;">
                                <div class="aui-grid-label1 aui-btn aui-btn-info"
                                     @click="openapp()">打开
                                </div>
                            </div>
                        </div>
                        <div class="aui-list-item-text">
                            影视视听 29.09M
                        </div>
                    </div>
                </div>
            </li>

            <li class="aui-list-item">
                <div class="aui-media-list-item-inner">
                    <div class="aui-list-item-media" @click="openDetail('虎牙直播')">
                        <img src="../image/huya.png">
                    </div>
                    <div class="aui-list-item-inner">
                        <div class="aui-list-item-text">
                            <div class="aui-list-item-title" style="margin-top: -11px;">虎牙直播</div>
                            <div class="aui-list-item-right" style="margin-top: 21px;">
                                <div class="aui-grid-label1 aui-btn aui-btn-info"
                                     @click="open('http://rel.huya.com/apk/live.apk')">安装
                                </div>
                            </div>
                        </div>
                        <div class="aui-list-item-text">
                            影视视听 26.09M
                        </div>
                    </div>
                </div>
            </li>

            <li class="aui-list-item">
                <div class="aui-media-list-item-inner">
                    <div class="aui-list-item-media" @click="openDetail('映客直播')">
                        <img src="../image/yingke.png">
                    </div>
                    <div class="aui-list-item-inner">
                        <div class="aui-list-item-text">
                            <div class="aui-list-item-title" style="margin-top: -11px;">映客直播</div>
                            <div class="aui-list-item-right" style="margin-top: 21px;">
                                <div class="aui-grid-label1 aui-btn aui-btn-info"
                                     @click="open('http://app.inke.cn/spread/inkeguanwang.apk')">安装
                                </div>
                            </div>
                        </div>
                        <div class="aui-list-item-text">
                            影视视听 43.09M
                        </div>
                    </div>
                </div>
            </li>

            <li class="aui-list-item">
                <div class="aui-media-list-item-inner">
                    <div class="aui-list-item-media" @click="openDetail('触手直播')">
                        <img src="../image/chushou.png">
                    </div>
                    <div class="aui-list-item-inner">
                        <div class="aui-list-item-text">
                            <div class="aui-list-item-title" style="margin-top: -11px;">触手直播</div>
                            <div class="aui-list-item-right" style="margin-top: 21px;">
                                <div class="aui-grid-label1 aui-btn aui-btn-info" @click="open()">安装</div>
                            </div>
                        </div>
                        <div class="aui-list-item-text">
                            影视视听 23.09M
                        </div>
                    </div>
                </div>
            </li>

            <li class="aui-list-item">
                <div class="aui-media-list-item-inner">
                    <div class="aui-list-item-media" @click="openDetail('YY直播')">
                        <img src="../image/yy.png">
                    </div>
                    <div class="aui-list-item-inner">
                        <div class="aui-list-item-text">
                            <div class="aui-list-item-title" style="margin-top: -11px;">YY直播</div>
                            <div class="aui-list-item-right" style="margin-top: 21px;">
                                <div class="aui-grid-label1 aui-btn aui-btn-info"
                                     @click="open('http://yydl.duowan.com/mobile/yymobile_client-android/6.1.5/yymobile_client-6.1.5.apk')">
                                    安装
                                </div>
                            </div>
                        </div>
                        <div class="aui-list-item-text">
                            影视视听 53.09M
                        </div>
                    </div>
                </div>
            </li>


            <li class="aui-list-item">
                <div class="aui-media-list-item-inner">
                    <div class="aui-list-item-media" @click="openDetail('哔哩哔哩')">
                        <img src="../image/bili.png">
                    </div>
                    <div class="aui-list-item-inner">
                        <div class="aui-list-item-text">
                            <div class="aui-list-item-title" style="margin-top: -11px;">哔哩哔哩</div>
                            <div class="aui-list-item-right" style="margin-top: 21px;">
                                <div class="aui-grid-label1 aui-btn aui-btn-info"
                                     @click="open('http://dl.hdslb.com/mobile/latest/iBiliPlayer-bili.apk')">安装
                                </div>
                            </div>
                        </div>
                        <div class="aui-list-item-text">
                            影视视听 43.09M
                        </div>
                    </div>
                </div>
            </li>

            <li class="aui-list-item">
                <div class="aui-media-list-item-inner">
                    <div class="aui-list-item-media" @click="openDetail('意直播')">
                        <img src="../image/yzb.png">
                    </div>
                    <div class="aui-list-item-inner">
                        <div class="aui-list-item-text">
                            <div class="aui-list-item-title" style="margin-top: -11px;">意直播</div>
                            <div class="aui-list-item-right" style="margin-top: 21px;">
                                <div class="aui-grid-label1 aui-btn aui-btn-info"
                                     @click="open('http://7jprve.com1.z0.glb.clouddn.com/easylive-v4.5.5.apk')">安装
                                </div>
                            </div>
                        </div>
                        <div class="aui-list-item-text">
                            影视视听 23.09M
                        </div>
                    </div>
                </div>
            </li>


        </ul>
    </div>
</div>
</body>
<script type="text/javascript" src="../script/vue.js"></script>
<script type="text/javascript" src="../script/api.js"></script>
<script>
    var vm = new Vue({
        el: '#app',
        data: {},
        methods: {
            open: function (package) {
                api.showProgress();
                api.download({
                    url: package,
                    report: true,
                    cache: true,
                    allowResume: true
                }, function (ret, err) {
                    if (ret.state == 1) {
                        api.hideProgress();
                        //下载成功
                        api.installApp({
                            appUri: ret.savePath
                        });
                    } else {

                    }
                });
            },
            openapp: function () {
                //打开app

                api.openApp({
                    androidPkg: 'com.panda.videoliveplatform',
                    mimeType: 'text/html'
                }, function (ret, err) {
                    if (ret) {
                        alert(JSON.stringify(ret));
                    } else {
                        alert(JSON.stringify(err));
                    }
                });
            },
            openDetail: function (name) {
                api.openWin({
                    name: 'detail',
                    url: 'detail.html',
                    pageParam: {
                        name: name
                    }
                });
            }
        }
    });
</script>
</html>